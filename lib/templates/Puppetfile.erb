#!/usr/bin/env ruby
#^syntax detection

# This file was generated by HBCTF-Battlegrounds
# <%= @time %>
# Based on <%= @scenario %>
# These modules are for system: <%= @currently_processing_system.name %>

forge "https://forgeapi.puppetlabs.com"

mod 'puppetlabs-stdlib'  # stdlib enables parsejson() in manifests and other useful functions
mod 'HBCTF-Battlegrounds-HBCTF-Battlegrounds_functions', :path => '<%= HBCTF-Battlegrounds_FUNCTIONS_PUPPET_DIR %>'

<% @currently_processing_system.module_selections.each do |selected_module| -%>
<%   case selected_module.module_type
       when 'vulnerability', 'service', 'utility', 'build' -%>
mod 'HBCTF-Battlegrounds-<%= selected_module.module_path_name %>/<%= selected_module.module_path_end %>', :path => '<%="#{ROOT_DIR}/#{selected_module.module_path}"%>'
<%   end -%>
<%  end -%>
